{"version":3,"file":"js/answer-editor.362da0c0.js","mappings":"yNACOA,MAAM,kB,GACTC,EAAAA,EAAAA,GAAsC,MAAlCD,MAAM,QAAO,oBAAgB,G,GAG/BC,EAAAA,EAAAA,GAAmE,UAA3DC,KAAK,SAASF,MAAM,wBAAuB,WAAO,G,SAE5CA,MAAM,c,0CANxBG,EAAAA,EAAAA,IAOM,MAPNC,EAOM,CANJC,GACAJ,EAAAA,EAAAA,GAGO,QAHAK,SAAMC,EAAA,KAAAA,EAAA,IAAAC,EAAAA,EAAAA,KAAA,IAAAC,IAAUC,EAAAJ,UAAAI,EAAAJ,YAAAG,IAAQ,e,WAC7BR,EAAAA,EAAAA,GAAyE,Y,qCAAtDU,EAAAC,WAAUC,GAAEb,MAAM,eAAec,KAAK,M,iBAAtCH,EAAAC,cACnBG,GAAmE,IAE5DJ,EAAAK,QAAK,WAAdb,EAAAA,EAAAA,IAAkD,IAAlDc,GAAkDC,EAAAA,EAAAA,IAAZP,EAAAK,OAAK,qB,sBAM/C,GACEG,KAAM,eACNC,MAAO,CACLC,KAAM,CACJnB,KAAMoB,OACNC,UAAU,IAGdC,OACE,MAAO,CACLC,aAAc,KACdb,WAAY,KACZI,MAAO,KAEX,EACAU,QAAS,CACPC,iBACE,IAAKC,KAAKhB,WAER,YADAgB,KAAKZ,MAAQ,qCAGf,MAAMa,EAAY,mBAAkBD,KAAKP,QACzC,UACQS,EAAAA,EAAMC,IAAIF,EAAU,CAAEG,KAAMJ,KAAKhB,aACvCgB,KAAKK,QAAQC,KAAK,CAChBf,KAAM,WACNgB,OAAQ,CAAEC,KAAMR,KAAKH,eAEzB,CAAE,MAAOT,GACPqB,QAAQC,IAAItB,GACZuB,MAAMvB,EAAMwB,SAASC,WACvB,CACF,GAEFd,uBAAuBe,EAAIC,EAAMC,GAC/B,MAAMf,EAAY,mBAAkBa,EAAGP,OAAOd,QAC9C,IACE,MAAMmB,QAAiBV,EAAAA,EAAMe,IAAIhB,GACjC,OAAOe,GACJE,IACEA,EAAGlC,WAAa4B,EAAShB,KAAKQ,KAC9Bc,EAAGrB,aAAee,EAAShB,KAAKuB,gBAGvC,CAAE,MAAO/B,GACPqB,QAAQC,IAAItB,GACZuB,MAAMvB,EAAMgC,SAASP,WACvB,CACF,G,UCxDF,MAAMQ,GAA2B,OAAgB,EAAQ,CAAC,CAAC,SAASC,KAEpE,O","sources":["webpack://mytrivia_frontend/./src/views/AnswerEditorView.vue","webpack://mytrivia_frontend/./src/views/AnswerEditorView.vue?c74d"],"sourcesContent":["<template>\r\n  <div class=\"container mt-2\">\r\n    <h1 class=\"mb-3\">Edit Your Answer</h1>\r\n    <form @submit.prevent=\"onSubmit\">\r\n      <textarea v-model=\"answerBody\" class=\"form-control\" rows=\"10\"></textarea>\r\n      <button type=\"submit\" class=\"btn btn-success mt-3\">Publish</button>\r\n    </form>\r\n    <p v-if=\"error\" class=\"muted mt-2\">{{ error }}</p>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { axios } from \"@/common/api.service.js\";\r\nexport default {\r\n  name: \"AnswerEditor\",\r\n  props: {\r\n    uuid: {\r\n      type: String,\r\n      required: true,\r\n    },\r\n  },\r\n  data() {\r\n    return {\r\n      questionSlug: null,\r\n      answerBody: null,\r\n      error: null,\r\n    };\r\n  },\r\n  methods: {\r\n    async onSubmit() {\r\n      if (!this.answerBody) {\r\n        this.error = \"You can't submit an empty answer!\";\r\n        return;\r\n      }\r\n      const endpoint = `/api/v1/answers/${this.uuid}/`;\r\n      try {\r\n        await axios.put(endpoint, { body: this.answerBody });\r\n        this.$router.push({\r\n          name: \"question\",\r\n          params: { slug: this.questionSlug },\r\n        });\r\n      } catch (error) {\r\n        console.log(error);\r\n        alert(error.response.statusText);\r\n      }\r\n    },\r\n  },\r\n  async beforeRouteEnter(to, from, next) {\r\n    const endpoint = `/api/v1/answers/${to.params.uuid}/`;\r\n    try {\r\n      const response = await axios.get(endpoint);\r\n      return next(\r\n        (vm) => (\r\n          (vm.answerBody = response.data.body),\r\n          (vm.questionSlug = response.data.question_slug)\r\n        )\r\n      );\r\n    } catch (error) {\r\n      console.log(error);\r\n      alert(error.responce.statusText);\r\n    }\r\n  },\r\n};\r\n</script>\r\n","import { render } from \"./AnswerEditorView.vue?vue&type=template&id=0680b43e\"\nimport script from \"./AnswerEditorView.vue?vue&type=script&lang=js\"\nexport * from \"./AnswerEditorView.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["class","_createElementVNode","type","_createElementBlock","_hoisted_1","_hoisted_2","onSubmit","_cache","_withModifiers","args","$options","$data","answerBody","$event","rows","_hoisted_3","error","_hoisted_4","_toDisplayString","name","props","uuid","String","required","data","questionSlug","methods","async","this","endpoint","axios","put","body","$router","push","params","slug","console","log","alert","response","statusText","to","from","next","get","vm","question_slug","responce","__exports__","render"],"sourceRoot":""}